alias prdeploy-rehash='. /Users/simensen/.dotfiles/shell/.projects.d/prdeploy'

alias prdeploy-cd='cd /Users/simensen/Code/prdeploy'

# Docker Compose
function prdeploy-docker-compose {
    if [ -f ".contrail/docker/docker-compose.override.yaml" ]; then
        docker-compose \
            -p prdeploy \
            -f .contrail/docker/docker-compose.common.yaml \
            -f .contrail/docker/docker-compose.common-traefik.yaml \
            -f .contrail/docker/docker-compose.testing.yaml \
            -f .contrail/docker/docker-compose.testing-traefik.yaml \
            -f .contrail/docker/docker-compose.project-root-nfs.yaml \
            -f .contrail/docker/docker-compose.traefik-external.yaml \
            -f .contrail/docker/docker-compose.override.yaml \
            "$@"
    else
        docker-compose \
            -p prdeploy \
            -f .contrail/docker/docker-compose.common.yaml \
            -f .contrail/docker/docker-compose.common-traefik.yaml \
            -f .contrail/docker/docker-compose.testing.yaml \
            -f .contrail/docker/docker-compose.testing-traefik.yaml \
            -f .contrail/docker/docker-compose.project-root-nfs.yaml \
            -f .contrail/docker/docker-compose.traefik-external.yaml \
            "$@"
    fi
}

# Docker Compose Helpers
alias prdeploy-up='prdeploy-docker-compose up'
alias prdeploy-down='prdeploy-docker-compose down'
alias prdeploy-restart='prdeploy-docker-compose restart'

# Core
alias prdeploy-shell='prdeploy-docker-compose exec php bash'
alias prdeploy-composer='prdeploy-docker-compose exec php composer'

# PHP and Composer
alias prdeploy-php='prdeploy-docker-compose exec php php'
alias prdeploy-composer='prdeploy-docker-compose exec php composer'
alias prdeploy-php-test='prdeploy-docker-compose exec php_testing php'

# PHPUnit
alias prdeploy-phpunit='prdeploy-php-test ./vendor/bin/phpunit'
alias prdeploy-phpunit-coverage='prdeploy-phpunit  --coverage-html=public/coverage'

# Laravel
alias prdeploy-artisan='prdeploy-php artisan'
alias prdeploy-tinker='prdeploy-artisan tinker'

# Laravel Testing
alias prdeploy-test-artisan='prdeploy-php-test artisan'

# MySQL
alias prdeploy-mysql='prdeploy-docker-compose exec -e MYSQL_PWD=password php mysql -h mysql -uprdeploy prdeploy'
alias prdeploy-mysql-test='prdeploy-docker-compose exec -e MYSQL_PWD=password php_testing mysql -h mysql_testing -uprdeploy prdeploy'

alias prdeploy-dusk='prdeploy-test-artisan dusk'
alias prdeploy-eslint='npx eslint resources/js'
alias prdeploy-eslint-fix='npx eslint --fix resources/js'
alias prdeploy-fresh='prdeploy-artisan migrate:fresh --seed'
alias prdeploy-test-fresh='prdeploy-artisan migrate:fresh'
alias prdeploy-ide='prdeploy-artisan ide-helper:generate -H && \
prdeploy-artisan ide-helper:models -N --dir='\''app/Models'\'' && \
prdeploy-artisan ide-helper:eloquent'
alias prdeploy-phpcbf='prdeploy-php vendor/bin/phpcbf'
alias prdeploy-phpcs='prdeploy-php vendor/bin/phpcs'
alias prdeploy-psalm='prdeploy-php vendor/bin/psalm'
alias prdeploy-vapor='prdeploy-php vendor/bin/vapor'
